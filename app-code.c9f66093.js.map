{"mappings":"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","sources":["jscommon.js"],"sourcesContent":["function c_encodeBase64(str) {\r\n  try {\r\n    const bytes = new TextEncoder().encode(str);\r\n    const binString = String.fromCodePoint(...bytes);\r\n    return btoa(binString);\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction c_decodeBase64(base64) {\r\n  try {\r\n    const binString = atob(base64);\r\n    const bytes = Uint8Array.from(binString, (m) => m.codePointAt(0));\r\n    return new TextDecoder().decode(bytes);\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\n// function c_getUser() {\r\n//     let data = localStorage.getItem(user.phone + '_' + saveKEY.userLogin);\r\n//     if (!data) {\r\n//       return null;\r\n//     }\r\n\r\n//     data = c_decodeBase64(data);\r\n//     if (data) {\r\n//       return JSON.parse(data);\r\n//     }\r\n//     return null;\r\n// }\r\n\r\nfunction c_is_user_has_login() {\r\n  let phone = c_load(saveKEY.phone);\r\n  return phone ? true : false;\r\n}\r\n\r\nfunction c_get_user_phone() {\r\n  let phone = localStorage.getItem(saveKEY.phone);\r\n  return phone ? phone : null;\r\n}\r\n\r\nfunction c_is_user_has_login___if_not_showModalLOGIN(params) {\r\n  let phone = c_load(saveKEY.phone);\r\n\r\n  if (!phone) {\r\n    showToast(\"Vui lòng đăng nhập\", \"error\", 2000);\r\n    c_openModal(\"modalLoginForm\");\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nfunction c_save(key, info) {\r\n  let phone = c_get_user_phone();\r\n  let paymentItems = [];\r\n\r\n  if (key == saveKEY.phone) {\r\n    localStorage.setItem(saveKEY.phone, info.phone);\r\n    return;\r\n  }\r\n\r\n  if (key == saveKEY.userLogin) {\r\n    let saveData = JSON.stringify(info);\r\n    saveData = c_encodeBase64(saveData);\r\n    localStorage.setItem(phone + \"_\" + saveKEY.userLogin, saveData);\r\n    return;\r\n  }\r\n  if (key == saveKEY.cartAllItem) {\r\n    \r\n    $(`.cart-list-items .cart-item`).each(function () {\r\n      let productId = $(this).attr(\"product-id\");\r\n      let name = $(this).find(`.cart-item-name`).text();\r\n      let price = $(this).find(`.cart-item-price`).text();\r\n      let quantity = $(this).find(`.input-qty`).val();\r\n      let totalPrice = $(this).find(`.cart-item-total-price`).text();\r\n      let checkbox = $(this).find(`.cart-item-checkbox`);\r\n      let isChecked = checkbox.is(\":checked\");\r\n\r\n      paymentItems.push({\r\n        productId: productId,\r\n        name: name,\r\n        price: price.toNumber(),\r\n        quantity: quantity,\r\n        totalPrice: totalPrice.toNumber(),\r\n        isChecked: isChecked,\r\n      });\r\n    });\r\n\r\n    let saveData = JSON.stringify(paymentItems);\r\n    saveData = c_encodeBase64(saveData);\r\n    localStorage.setItem(phone + \"_\" + saveKEY.cartAllItem, saveData);\r\n  }\r\n\r\n  if (key == saveKEY.cartItemTableWILLBuy) {\r\n    \r\n    $(`.payment-item-table tbody tr`).each(function () {\r\n      let productId = $(this).attr(\"product-id\");\r\n      let name = $(this).find(`.payment-item-name`).text();\r\n      let price = $(this).find(`.payment-item-price`).text();\r\n      let quantity = $(this).find(`.payment-item-quantity`).text();\r\n      let totalPrice = $(this).find(`.payment-item-total-price`).text();\r\n\r\n      paymentItems.push({\r\n        productId: productId,\r\n        name: name,\r\n        price: price.toNumber(),\r\n        quantity: quantity,\r\n        totalPrice: totalPrice.toNumber(),\r\n      });\r\n    });\r\n\r\n    let saveData = JSON.stringify(paymentItems);\r\n    saveData = c_encodeBase64(saveData);\r\n    localStorage.setItem(phone + \"_\" + saveKEY.cartItemTableWILLBuy, saveData);\r\n\r\n    return;\r\n  }\r\n}\r\n\r\n\r\nfunction c_load(key) {\r\n\r\n    let phone = c_get_user_phone();\r\n\r\n    // nếu có phone là đã đăng nhập rồi.\r\n    if (key == saveKEY.phone) {\r\n      return localStorage.getItem(saveKEY.phone);\r\n    }\r\n\r\n    if (key.includes(saveKEY.cartItemTableWILLBuy) || key.includes(saveKEY.cartAllItem)) {\r\n      let paymentItems = localStorage.getItem(phone + '_' + key);\r\n          if (!paymentItems) {\r\n        return null;\r\n      }\r\n\r\n      paymentItems = c_decodeBase64(paymentItems);\r\n      if (paymentItems) {\r\n        return JSON.parse(paymentItems);\r\n      }\r\n      return null;\r\n    }\r\n\r\n    if (key.includes(saveKEY.userLogin)) {\r\n      let data = localStorage.getItem(phone + '_' + saveKEY.userLogin);\r\n      if (!data) {\r\n        return null;\r\n      }\r\n\r\n      data = c_decodeBase64(data);\r\n      if (data) {\r\n        return JSON.parse(data);\r\n      }\r\n      return null;\r\n    }\r\n}\r\n\r\nfunction c_remove(key) {\r\n  localStorage.removeItem(key);\r\n}\r\n\r\n// viết hàm chuyển đổi 1 list  object thành 1 string html <table> để hiển thị trong email\r\nfunction c_convertListProduct_willBUY_ToHTMLTable(list) {\r\n  let html = `<div><table border=\"1\" cellpadding=\"5\" cellspacing=\"0\" style=\"border-collapse: collapse; width: 100%;\">  \r\n                <thead>\r\n                <tr>\r\n                  <th style=\"background-color: #d0ee39;\">Số TT</th>\r\n                  <th style=\"background-color: #e0995b;\">mã SP</th>\r\n                  <th style=\"background-color: #f2f2f2; text-align: center;\">Tên sản phẩm</th>\r\n                  <th style=\"background-color: #f2f2f2; text-align: center;\">Giá</th>\r\n                  <th style=\"background-color: #f2f2f2; text-align: center;\">Số lượng</th>\r\n                  <th style=\"background-color: #f2f2f2; text-align: center;\">Thành tiền</th>\r\n                </tr></thead>\r\n                <tbody>`;\r\n  let totalAll = 0;\r\n  list.forEach((item, index) => {\r\n    totalAll += item.totalPrice;\r\n    html += `<tr>\r\n              <td style=\"text-align: center;\">${index + 1}</td>\r\n              <td style=\"text-align: center;\">${item.productId}</td>\r\n              <td style=\"text-align: left;\">${item.name}</td>\r\n              <td style=\"text-align: right;\">${item.price.formatMoney()}₫</td>\r\n              <td style=\"text-align: center;\">${item.quantity}</td>\r\n              <td style=\"text-align: right;\">${item.totalPrice.formatMoney()}₫</td>\r\n            </tr>`;\r\n  });\r\n\r\n  html += `<tr>\r\n              <td colspan=\"5\" style=\"text-align: right; font-weight: bold;\">Tổng cộng:</td>\r\n              <td style=\"text-align: right; font-weight: bold;\">${totalAll.formatMoney()}₫</td>\r\n            </tr>`;\r\n  html += `</tbody></table></div>`;\r\n  return html;\r\n}\r\n\r\nfunction c_openModal(id) {\r\n  if (!id) {\r\n    console.error(\"Modal ID is required to open a modal.\");\r\n    return;\r\n  }\r\n\r\n  if (!document.getElementById(id)) {\r\n    console.error(`No modal found with ID: ${id}`);\r\n    return;\r\n  }\r\n\r\n  let myModal = new bootstrap.Modal(document.getElementById(id), {});\r\n  myModal.show();\r\n\r\n  $(`#${id}`).css(\"opacity\", \"0\");\r\n  let intt = setInterval(() => {\r\n    // wait until modal is opened\r\n    if ($(`#${id}`).css(\"display\") != \"none\") {\r\n      clearInterval(intt);\r\n\r\n      let cssO = {\r\n        display: \"flex\",\r\n        opacity: \"1\",\r\n      };\r\n\r\n      $(`#${id}`).css(cssO);\r\n      $(`#${id}`).focus();\r\n\r\n      const key = \"modal-id\";\r\n      const key2 = \"modal-id\";\r\n\r\n      let r = 2999;\r\n      $(\".modal-backdrop\").each(function () {\r\n        let modalIDinBackDrop = $(this).attr(key);\r\n        if (modalIDinBackDrop) {\r\n          r = parseInt($(this).css(\"z-index\"));\r\n        } else {\r\n          r += 2;\r\n          $(this).attr(key, id);\r\n          $(this).css(\"z-index\", r);\r\n        }\r\n      });\r\n\r\n      r = 3000;\r\n      $(\".modal-backdrop\").each(function () {\r\n        r += 2;\r\n        let zIdx = $(this).css(\"z-index\");\r\n        let modalID = $(this).attr(key);\r\n        let modal = $(`#${modalID}`);\r\n        modal.css(\"z-index\", r);\r\n      });\r\n    }\r\n  }, 50);\r\n}\r\n\r\nfunction c_closeModal(id) {\r\n  $(\"#\" + id)\r\n    .find(`[data-bs-dismiss=\"modal\"]`)\r\n    .click();\r\n}\r\n"],"names":[],"version":3,"file":"app-code.c9f66093.js.map","sourceRoot":"/__parcel_source_root/"}