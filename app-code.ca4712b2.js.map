{"mappings":"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","sources":["<anon>","js/btnShowPOClick.js"],"sourcesContent":["function btnShowPOClick(btn) {\n    const originalText = btn.innerText;\n    btn.innerText = \"\\u0110ang x\\u1EED l\\xfd...\";\n    btn.disabled = true;\n    function resetButton() {\n        btn.innerText = originalText;\n        btn.disabled = false;\n    }\n    let phone = c_get_user_phone();\n    api_getPO_ByPhone_Async(phone).then((res)=>{\n        if (res?.success) {\n            render_modalShowPO(res.results);\n            c_openModal(\"modalShowPO\");\n        }\n        resetButton();\n    });\n}\nfunction render_table_modalShowPO(listPO) {\n    let table_JQ = $(`\n            <table class=\"table-border w100\">\n                <thead>\n                    <tr>\n                      <td class=\"text-center\" style=\"width: 50px;\">STT</td>\n                      <td class=\"text-center\" style=\"width: 70px;\">M\\xe3 \\u{110}\\u{1A1}n H\\xe0ng</td>\n                      <td class=\"text-center\" style=\"width: 45px;\">S\\u{1ED1} l\\u{1B0}\\u{1EE3}ng SP</td>\n                      <td class=\"text-center\">T\\u{1ED5}ng ti\\u{1EC1}n</td>\n                      <td class=\"text-center\" style=\"width: 50px;\">XEM</td>\n                    </tr>\n                </thead>\n                <tbody></tbody>\n            </table>\n        `);\n    listPO.forEach((PO, index)=>{\n        table_JQ.find(`tbody`).append(`\n                <tr po-id=\"${PO.id}\">\n                  <td>\n                    <div class=\"po-stt\" style=\" overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">${index + 1}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-id\" style=\" text-align: center; margin-left: 4px; margin-right: 4px; font-weight: bold;\">${PO.id}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-count-product text-center\" style=\" font-weight: bold;\">${PO.info.length}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-total-payment text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">${PO.totalPrice.formatMoney()}\\u{20AB}</div>\n                  </td>\n\n                   <td>\n                    <div class=\"po-goto-detail text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">\n                        <button onclick='event.preventDefault(); showPODetailByID(\"${PO.id}\"); '>Chi Ti\\u{1EBF}t</button>\n                    </div>\n                  </td>\n\n                </tr>\n          `);\n    });\n    return table_JQ;\n}\nfunction render_modalShowPO(listData) {\n    if (!listData || listData?.length <= 0) return;\n    $(\".modalShowPO_wrap\").html(``);\n    listData.forEach((data)=>{\n        let d = c_decodeBase64(data.info);\n        if (d) d = JSON.parse(d);\n        if (!d) d = [\n            {\n                totalPrice: 0\n            }\n        ];\n        data.info = d;\n        const total = data.info.reduce((accumulator, item)=>accumulator + item.totalPrice, 0);\n        data.totalPrice = total; // tổng tiền phải trả của 1 đơn hàng\n    });\n    let table = render_table_modalShowPO(listData);\n    $(\".modalShowPO_wrap\").append(table);\n}\nfunction showPODetailByID(PO_id) {\n    $(`.PODetailTitle`).html(`Chi Ti\\u{1EBF}t \\u{110}\\u{1A1}n H\\xe0ng : ${PO_id}`);\n    c_openModal(\"modalShowPO_detail\");\n    // modalShowPODetail_wrap\n    $(\".modalShowPODetail_wrap\").html(``);\n    let phone = c_get_user_phone();\n    let PO = [];\n    api_getPO_ByPhone_Async(phone).then((res)=>{\n        if (res.success) {\n            PO = res.results.find((x)=>x.id == PO_id);\n            let d = c_decodeBase64(PO.info);\n            if (d) d = JSON.parse(d);\n            if (!d) d = [];\n            PO.info = d;\n            let tableProduct_in_PO = showPODetailByID_TABLE(PO);\n            $(\".modalShowPODetail_wrap\").append(tableProduct_in_PO);\n        } else showToast(`L\\u{1EA5}y th\\xf4ng tin l\\u{1ED7}i, h\\xe3y th\\u{1EED} l\\u{1EA1}i`);\n        console.log(res);\n    });\n}\nfunction showPODetailByID_TABLE(PO) {\n    let table_JQ = $(`\n            <table class=\"table-border\">\n                <thead>\n                    <tr>\n                      <td class=\"text-center\" style=\"width: 50px;\">STT</td>\n                      <td class=\"text-center\" style=\"width: 50px;\">M\\xe3 SP</td>\n                      <td class=\"text-center\" style=\"width: 270px;\">T\\xean SP</td>\n                      <td class=\"text-center\" style=\"width: 45px;\">S\\u{1ED1} l\\u{1B0}\\u{1EE3}ng</td>\n                      <td class=\"text-center\" style=\"width: 45px;\">Gi\\xe1</td>\n                      <td class=\"text-center\" style=\"width: 45px;\">T\\u{1ED3}ng Ti\\u{1EC1}n</td>\n                      \n                    </tr>\n                </thead>\n                <tbody></tbody>\n            </table>\n        `);\n    // PO.info  la` list sp của đơn hàng đó\n    const totalApp_product = PO.info.reduce((accumulator, item)=>accumulator + item.totalPrice, 0);\n    PO.info.forEach((pro, index)=>{\n        table_JQ.find(`tbody`).append(`\n                <tr product-id=\"${pro.id}\">\n                  <td>\n                    <div class=\"text-center po-detail-product-stt\" style=\"overflow: hidden; white-space: nowrap;\">${index + 1}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-detail-product-id text-center\" style=\" text-align: right; margin-left: 4px; margin-right: 4px; font-weight: bold;\">${pro.productId}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-detail-product-name text-left\" style=\" font-weight: bold;\">${pro.name}</div>\n                  </td>\n                  <td>\n                    <div class=\"po-detail-product-quantity text-end\" style=\"color: var(--bg); font-size: 14px;\">${pro.quantity}</div>\n                  </td>\n\n                   <td>\n                    <div class=\"po-detail-product-price text-end w100\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">\n                     ${pro.price.formatMoney()}\\u{20AB}\n                    </div>\n                  </td>\n\n                  <td>\n                    <div class=\"po-detail-product-total text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">${pro.totalPrice.formatMoney()}\\u{20AB}</div>\n                  </td>\n\n\n                </tr>\n\n\n          `);\n    });\n    table_JQ.find(`tbody`).append(`\n                  <tr>\n                  <td colspan=6>\n                      <div>\n                        <div class=\"po-detail-product-quantity text-end\" style=\"color: var(--bg); font-size: 14px;\">${totalApp_product.formatMoney()}\\u{20AB}</div>\n                      </div>\n                  </td>\n                </tr>\n  `);\n    return table_JQ;\n}\n\n//# sourceMappingURL=app-code.ca4712b2.js.map\n","function btnShowPOClick(btn) {\r\n  const originalText = btn.innerText;\r\n  btn.innerText = \"Đang xử lý...\";\r\n  btn.disabled = true;\r\n\r\n  function resetButton() {\r\n    btn.innerText = originalText;\r\n    btn.disabled = false;\r\n  }\r\n  let phone = c_get_user_phone();\r\n\r\n  api_getPO_ByPhone_Async(phone).then((res) => {\r\n    if (res?.success) {\r\n      render_modalShowPO(res.results);\r\n      c_openModal(\"modalShowPO\");\r\n    }\r\n    resetButton();\r\n  });\r\n}\r\n\r\nfunction render_table_modalShowPO(listPO) {\r\n  let table_JQ = $(`\r\n            <table class=\"table-border w100\">\r\n                <thead>\r\n                    <tr>\r\n                      <td class=\"text-center\" style=\"width: 50px;\">STT</td>\r\n                      <td class=\"text-center\" style=\"width: 70px;\">Mã Đơn Hàng</td>\r\n                      <td class=\"text-center\" style=\"width: 45px;\">Số lượng SP</td>\r\n                      <td class=\"text-center\">Tổng tiền</td>\r\n                      <td class=\"text-center\" style=\"width: 50px;\">XEM</td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody></tbody>\r\n            </table>\r\n        `);\r\n  listPO.forEach((PO, index) => {\r\n    table_JQ.find(`tbody`).append(`\r\n                <tr po-id=\"${PO.id}\">\r\n                  <td>\r\n                    <div class=\"po-stt\" style=\" overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">${index + 1}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-id\" style=\" text-align: center; margin-left: 4px; margin-right: 4px; font-weight: bold;\">${PO.id}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-count-product text-center\" style=\" font-weight: bold;\">${PO.info.length}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-total-payment text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">${PO.totalPrice.formatMoney()}₫</div>\r\n                  </td>\r\n\r\n                   <td>\r\n                    <div class=\"po-goto-detail text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">\r\n                        <button onclick='event.preventDefault(); showPODetailByID(\"${PO.id}\"); '>Chi Tiết</button>\r\n                    </div>\r\n                  </td>\r\n\r\n                </tr>\r\n          `);\r\n  });\r\n\r\n  return table_JQ;\r\n}\r\nfunction render_modalShowPO(listData) {\r\n  if (!listData || listData?.length <= 0) return;\r\n\r\n  $(\".modalShowPO_wrap\").html(``);\r\n\r\n  listData.forEach((data) => {\r\n    let d = c_decodeBase64(data.info);\r\n    if (d) {\r\n      d = JSON.parse(d);\r\n    }\r\n\r\n    if (!d) {\r\n      d = [{ totalPrice: 0 }];\r\n    }\r\n\r\n    data.info = d;\r\n\r\n    const total = data.info.reduce(\r\n      (accumulator, item) => accumulator + item.totalPrice,\r\n      0,\r\n    );\r\n    data.totalPrice = total; // tổng tiền phải trả của 1 đơn hàng\r\n  });\r\n  let table = render_table_modalShowPO(listData);\r\n  $(\".modalShowPO_wrap\").append(table);\r\n}\r\n\r\nfunction showPODetailByID(PO_id) {\r\n  $(`.PODetailTitle`).html(`Chi Tiết Đơn Hàng : ${PO_id}`);\r\n  c_openModal(\"modalShowPO_detail\");\r\n  // modalShowPODetail_wrap\r\n  $(\".modalShowPODetail_wrap\").html(``);\r\n  let phone = c_get_user_phone();\r\n  let PO = [];\r\n  api_getPO_ByPhone_Async(phone).then((res) => {\r\n    if (res.success) {\r\n      PO = res.results.find((x) => x.id == PO_id);\r\n\r\n      let d = c_decodeBase64(PO.info);\r\n      if (d) {\r\n        d = JSON.parse(d);\r\n      }\r\n\r\n      if (!d) {\r\n        d = [];\r\n      }\r\n      PO.info = d;\r\n      let tableProduct_in_PO = showPODetailByID_TABLE(PO);\r\n      $(\".modalShowPODetail_wrap\").append(tableProduct_in_PO);\r\n    } else {\r\n      showToast(`Lấy thông tin lỗi, hãy thử lại`);\r\n    }\r\n    console.log(res);\r\n  });\r\n}\r\n\r\nfunction showPODetailByID_TABLE(PO) {\r\n \r\n\r\n\r\n   let table_JQ = $(`\r\n            <table class=\"table-border\">\r\n                <thead>\r\n                    <tr>\r\n                      <td class=\"text-center\" style=\"width: 50px;\">STT</td>\r\n                      <td class=\"text-center\" style=\"width: 50px;\">Mã SP</td>\r\n                      <td class=\"text-center\" style=\"width: 270px;\">Tên SP</td>\r\n                      <td class=\"text-center\" style=\"width: 45px;\">Số lượng</td>\r\n                      <td class=\"text-center\" style=\"width: 45px;\">Giá</td>\r\n                      <td class=\"text-center\" style=\"width: 45px;\">Tồng Tiền</td>\r\n                      \r\n                    </tr>\r\n                </thead>\r\n                <tbody></tbody>\r\n            </table>\r\n        `);\r\n\r\n  // PO.info  la` list sp của đơn hàng đó\r\n\r\n  const totalApp_product = PO.info.reduce((accumulator, item) => accumulator + item.totalPrice, 0);\r\n\r\n  PO.info.forEach((pro, index) => {\r\n    table_JQ.find(`tbody`).append(`\r\n                <tr product-id=\"${pro.id}\">\r\n                  <td>\r\n                    <div class=\"text-center po-detail-product-stt\" style=\"overflow: hidden; white-space: nowrap;\">${index + 1}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-detail-product-id text-center\" style=\" text-align: right; margin-left: 4px; margin-right: 4px; font-weight: bold;\">${pro.productId}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-detail-product-name text-left\" style=\" font-weight: bold;\">${pro.name}</div>\r\n                  </td>\r\n                  <td>\r\n                    <div class=\"po-detail-product-quantity text-end\" style=\"color: var(--bg); font-size: 14px;\">${pro.quantity}</div>\r\n                  </td>\r\n\r\n                   <td>\r\n                    <div class=\"po-detail-product-price text-end w100\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">\r\n                     ${pro.price.formatMoney()}₫\r\n                    </div>\r\n                  </td>\r\n\r\n                  <td>\r\n                    <div class=\"po-detail-product-total text-end\" style=\"color: var(--bg); font-size: 14px; font-weight: bold;\">${pro.totalPrice.formatMoney()}₫</div>\r\n                  </td>\r\n\r\n\r\n                </tr>\r\n\r\n\r\n          `);\r\n  });\r\n table_JQ.find(`tbody`).append(`\r\n                  <tr>\r\n                  <td colspan=6>\r\n                      <div>\r\n                        <div class=\"po-detail-product-quantity text-end\" style=\"color: var(--bg); font-size: 14px;\">${totalApp_product.formatMoney()}₫</div>\r\n                      </div>\r\n                  </td>\r\n                </tr>\r\n  `);\r\n  \r\n\r\n  return table_JQ;\r\n\r\n\r\n}"],"names":["btnShowPOClick","btn","originalText","innerText","disabled","api_getPO_ByPhone_Async","c_get_user_phone","then","res","success","render_modalShowPO","results","c_openModal","render_table_modalShowPO","listPO","table_JQ","$","forEach","PO","index","find","append","id","info","length","totalPrice","formatMoney","listData","html","data","d","c_decodeBase64","JSON","parse","total","reduce","accumulator","item","table","showPODetailByID","PO_id","phone","x","tableProduct_in_PO","showPODetailByID_TABLE","showToast","console","log","totalApp_product","pro","productId","name","quantity","price"],"version":3,"file":"app-code.ca4712b2.js.map"}