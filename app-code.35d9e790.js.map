{"mappings":"ACAC,eAAe,eAAe,CAAG,EAG9B,IAAM,EAAe,EAAI,SAAS,CAIlC,SAAS,IACJ,EAAI,SAAS,CAAG,EAChB,EAAI,QAAQ,CAAG,CAAA,CACpB,CANA,EAAI,SAAS,CAAG,gBAChB,EAAI,QAAQ,CAAG,CAAA,EAOf,IAAI,EAAQ,EAAE,kBAAkB,GAAG,GACnC,GAAI,CAAC,EAAO,CACR,UAAU,+BAAgC,SAC1C,cAAc,KAAK,GACnB,IACA,MACJ,CAEA,IAAI,EAAO,EAAE,iBAAiB,GAAG,GAC5B,IACD,UAAU,0BAA2B,SACrC,IACA,EAAE,iBAAiB,KAAK,IAG5B,IAAI,EAAM,MAAM,gBAAgB,EAAO,GAEvC,GAAI,CAAC,GAAO,CAAC,EAAI,OAAO,CAAE,CACtB,UAAU,0CAA2C,SACrD,IACA,MACJ,CAOA,IAAI,EAAM,CACN,MAAA,EACA,KAAA,CACJ,EAEA,OAAO,QAAQ,KAAK,CAAE,GACtB,OAAO,QAAQ,SAAS,CAAE,GAE1B,EAAE,kBAAkB,GAAG,CAAC,IACxB,EAAE,iBAAiB,GAAG,CAAC,IAEvB,UAAU,wBAAyB,WAGnC,EAAE,kBAAkB,IAAI,CAAC,CAAC,YAAS,EAAE,EAAA,CAAO,EAE5C,EAAE,0BAA0B,WAAW,CAAC,UACxC,EAAE,qBAAqB,QAAQ,CAAC,UAEhC,aA1Dc,kBA4Dd,wBAGC,EAAE,cAAc,QAAQ,CAAC,UACzB,0BAA0B,GAAO,IAAI,CAAC,AAAC,IACjC,EAAI,KAAK,CAAG,IACd,EAAE,cAAc,WAAW,CAAC,UAC5B,EAAE,cAAc,IAAI,CAAC,CAAC,iBAAQ,EAAE,EAAI,KAAK,CAAC,wBAAS,CAAC,EAExD,GAED,GAEJ","sources":["<anon>","js/btnLogginClick.js"],"sourcesContent":["async function btnLogginClick(btn) {\n    let modalID = \"modalLoginForm\";\n    const originalText = btn.innerText;\n    btn.innerText = \"\\u0110ang x\\u1EED l\\xfd...\";\n    btn.disabled = true;\n    function resetButton() {\n        btn.innerText = originalText;\n        btn.disabled = false;\n    }\n    let phone = $(\"#txtLoginPhone\").val();\n    if (!phone) {\n        showToast(\"Vui l\\xf2ng nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i.\", \"error\");\n        txtLoginPhone.focus();\n        resetButton();\n        return;\n    }\n    let pass = $(\"#txtLoginPass\").val();\n    if (!pass) {\n        showToast(\"Vui l\\xf2ng nh\\u1EADp m\\u1EADt kh\\u1EA9u.\", \"error\");\n        resetButton();\n        $(\"#txtLoginPass\").focus();\n    }\n    let res = await api_login_Async(phone, pass);\n    if (!res || !res.success) {\n        showToast(\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i ho\\u1EB7c m\\u1EADt kh\\u1EA9u kh\\xf4ng \\u0111\\xfang.\", \"error\");\n        resetButton();\n        return;\n    }\n    // c_closeModal(modalID);\n    //c_openModal(\"modalLoginForm\");\n    //let h = $(`#holder_btn_login__infoUser`);\n    //h.html(`<span style=\"color: white; font-weight: bold; font-size: 14px;\">Xin Chào, ${phone}</span> | <button class=\"btn-logout\" onclick=\"event.preventDefault(); btnLogoutClick(this);\">Đăng Xuất</button>`);\n    let obj = {\n        phone,\n        pass\n    };\n    c_save(saveKEY.phone, obj);\n    c_save(saveKEY.userLogin, obj);\n    $(\"#txtLoginPhone\").val('');\n    $(\"#txtLoginPass\").val('');\n    showToast(\"\\u0110\\u0103ng nh\\u1EADp th\\xe0nh c\\xf4ng.\", \"success\");\n    $(`.xinchaoPartID`).html(`Xin Ch\\xe0o ${phone}`);\n    $(`#holder_Login_userInfo`).removeClass(\"d-none\");\n    $(`#holder_btn_login`).addClass(\"d-none\");\n    c_closeModal(modalID);\n    cart_renderCartByUser();\n    $(`.btnShowPO`).addClass(\"d-none\");\n    api_countPO_byPhone_Async(phone).then((res)=>{\n        if (res.count > 0) {\n            $(`.btnShowPO`).removeClass(\"d-none\");\n            $(`.btnShowPO`).html(`\\u{110}ang c\\xf3 ${res.count} \\u{111}\\u{1A1}n h\\xe0ng`);\n        }\n    });\n    resetButton();\n}\n\n//# sourceMappingURL=app-code.35d9e790.js.map\n"," async function btnLogginClick(btn) {\r\n    let modalID = \"modalLoginForm\";\r\n\r\n    const originalText = btn.innerText;\r\n    btn.innerText = \"Đang xử lý...\";\r\n    btn.disabled = true;\r\n\r\n    function resetButton() {\r\n         btn.innerText = originalText;\r\n         btn.disabled = false;\r\n    }\r\n\r\n    let phone = $(\"#txtLoginPhone\").val();\r\n    if (!phone) {\r\n        showToast(\"Vui lòng nhập số điện thoại.\", \"error\");\r\n        txtLoginPhone.focus();\r\n        resetButton();\r\n        return; \r\n    } \r\n    \r\n    let pass = $(\"#txtLoginPass\").val();\r\n    if (!pass) {\r\n        showToast(\"Vui lòng nhập mật khẩu.\", \"error\");\r\n        resetButton();\r\n        $(\"#txtLoginPass\").focus();\r\n    }\r\n\r\n    let res = await api_login_Async(phone, pass);\r\n\r\n    if (!res || !res.success) {\r\n        showToast(\"Số điện thoại hoặc mật khẩu không đúng.\", \"error\");\r\n        resetButton()\r\n        return;\r\n    }\r\n\r\n    // c_closeModal(modalID);\r\n    //c_openModal(\"modalLoginForm\");\r\n\r\n    //let h = $(`#holder_btn_login__infoUser`);\r\n    //h.html(`<span style=\"color: white; font-weight: bold; font-size: 14px;\">Xin Chào, ${phone}</span> | <button class=\"btn-logout\" onclick=\"event.preventDefault(); btnLogoutClick(this);\">Đăng Xuất</button>`);\r\n    let obj = {\r\n        phone,\r\n        pass\r\n    }\r\n\r\n    c_save(saveKEY.phone, obj);\r\n    c_save(saveKEY.userLogin, obj);\r\n\r\n    $(\"#txtLoginPhone\").val('');\r\n    $(\"#txtLoginPass\").val('');\r\n\r\n    showToast(\"Đăng nhập thành công.\", \"success\");\r\n   \r\n   \r\n    $(`.xinchaoPartID`).html(`Xin Chào ${phone}`);\r\n    \r\n    $(`#holder_Login_userInfo`).removeClass(\"d-none\");\r\n    $(`#holder_btn_login`).addClass(\"d-none\");\r\n\r\n    c_closeModal(modalID);\r\n\r\n    cart_renderCartByUser();\r\n\r\n\r\n     $(`.btnShowPO`).addClass(\"d-none\");\r\n     api_countPO_byPhone_Async(phone).then((res) => {\r\n       if (res.count > 0) {\r\n         $(`.btnShowPO`).removeClass(\"d-none\");\r\n         $(`.btnShowPO`).html(`Đang có ${res.count} đơn hàng`);\r\n       }\r\n     });\r\n\r\n    resetButton();\r\n\r\n}"],"names":["btnLogginClick","btn","originalText","innerText","resetButton","disabled","phone","$","val","showToast","txtLoginPhone","focus","pass","res","api_login_Async","success","obj","c_save","saveKEY","userLogin","html","removeClass","addClass","c_closeModal","cart_renderCartByUser","api_countPO_byPhone_Async","then","count"],"version":3,"file":"app-code.35d9e790.js.map"}